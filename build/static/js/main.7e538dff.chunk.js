(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,a){},139:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),i=a.n(n),c=a(11),o=a.n(c),s=(a(137),a(37)),l=a(40),d=a.n(l),u=a(57),p=a(22),j=a(12),b=a(7),m=(a(139),a(21)),h=a(72),O=a(14),x=a(196),g=a(198),f=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));var v=function(e){var t=f(),a=Object(O.f)(),n=Object(h.useGoogleLogout)({onLogoutSuccess:function(t){localStorage.removeItem("userId"),e.setlog(!1),a.push("/"),e.setUser(null)},clientId:"233069535985-vfone0gmelp0cfv62424j18a94av35i3.apps.googleusercontent.com",onFailure:function(){console.log("Handle failure cases")}}).signOut;return Object(r.jsx)("div",{className:t.root,children:Object(r.jsx)(g.a,{onClick:n,variant:"contained",color:"primary",href:"#contained-buttons",children:"Sign Out"})})},y=a(27),A=a(200),T=a(201),S=a(202),C=a(109),k=a.n(C),N=a(5),E=a(114),B=a(229),I=a(203),w=a(110),G=a.n(w),U=a(111),V=a.n(U),D=a(112),L=a.n(D),M=a(199),P=Object(N.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(r.jsx)(E.a,Object(j.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),F=Object(N.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(B.a),q=Object(x.a)((function(e){return{appbar:{backgroundColor:"white",boxShadow:"none",background:"none",height:"60px"},appbarWrapper:{},appbarTitle:{flexGrow:"1",color:"black",underline:"none"},icon:{color:"black",fontSize:"2rem"},colorText:{color:"black"}}}));var Q=function(e){var t=q(),a=Object(y.a)(),i=(Object(M.a)(a.breakpoints.down("md")),Object(n.useState)(null)),c=Object(b.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(0),d=Object(b.a)(l,2);return d[0],d[1],Object(r.jsx)("div",{children:Object(r.jsx)(A.a,{className:t.appbar,children:Object(r.jsxs)(T.a,{className:t.appbarWrapper,children:[Object(r.jsx)(m.b,{className:t.appbarTitle,to:"/",children:Object(r.jsxs)("h1",{className:t.appbarTitle,children:["City-",Object(r.jsx)("span",{className:t.colorText,children:"Route."})]})}),Object(r.jsx)(S.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){s(e.currentTarget)},children:Object(r.jsx)(k.a,{className:t.icon})}),Object(r.jsxs)(P,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){s(null)},children:[Object(r.jsxs)(F,{component:m.b,to:"/trips",children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(G.a,{fontSize:"small"})}),Object(r.jsx)(g.a,{primary:"Search for a Trip"})]}),Object(r.jsxs)(F,{component:m.b,to:"/myTripsPage",children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(V.a,{fontSize:"small"})}),Object(r.jsx)(g.a,{primary:"My Trips"})]}),Object(r.jsxs)(F,{component:m.b,to:"/",children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(L.a,{fontSize:"small"})}),Object(r.jsx)(v,{setUser:e.setUser,setlog:e.setlog})]})]})]})})})},z=a(205),W=a(204),Y=a(230),J=a(208),K=a(45),R=Object(x.a)((function(e){return{form:{backgroundColor:"white",width:1e3,height:200,left:"50%",marginTop:"-50px",transform:"translateX(-50%)",borderRadius:"0.5em",boxShadow:"0 0.25rem 0.438rem 0 rgb(0 11 38 / 20%)"},title:{margin:"25px"},root:{margin:"0px"},inputs:{borderRadius:"0.5em",width:250,transition:e.transitions.create(["border-color","box-shadow"]),boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)",borderColor:"#80bdff",marginLeft:30,backgroundColor:"white"},button:{marginLeft:20}}}));var X=function(e){var t=R(),a=Object(O.f)();function i(e){e.preventDefault(),a.push("/results")}var c=Object(n.useState)(""),o=Object(b.a)(c,2),s=o[0],l=o[1];return Object(r.jsxs)(W.a,{onSubmit:i,onChange:e.updateForm,className:t.form,children:[Object(r.jsx)(K.a,{className:t.title,variant:"h3",children:"Search for a Trip"}),Object(r.jsxs)(z.a,{container:!0,spacing:2,children:[Object(r.jsx)(Y.a,{htmlFor:"name_city",className:t.inputs,id:"select",value:s,label:"City",select:!0,name:"city",onChange:function(t){t.preventDefault(),e.updateForm(t),l(t.target.value)},children:[{value:"Berlin",label:"Berlin"},{value:"Tel-Aviv",label:"Tel-Aviv"},{value:"Paris",label:"Paris"},{value:"Amsterdam",label:"Amsterdam"},{value:"London",label:"London"}].map((function(e){return Object(r.jsx)(B.a,{value:e.value,children:e.label},e.value)}))}),Object(r.jsx)(Y.a,{className:t.inputs,name:"start",label:"Start Date- dd/mm/yyyy"}),Object(r.jsx)(Y.a,{className:t.inputs,name:"end",label:"End Date- dd/mm/yyyy"}),Object(r.jsx)(J.a,{className:t.button,variant:"contained",color:"primary",onClick:i,children:"Submit"})]})]})},H=a.p+"static/media/amsterdam4.a82e72d8.jpg",Z=Object(x.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},background:{backgroundImage:"url(".concat(H,")"),height:800,width:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",left:0,right:0}}}));var _=function(e){var t=Z();return Object(r.jsxs)(z.a,{container:!0,spacing:3,children:[Object(r.jsx)(z.a,{item:!0,className:t.background}),Object(r.jsx)(X,{updateForm:e.updateForm})]})},$=a(38),ee=(a(101),["places"]),te={height:"500px",width:"500px"},ae={disableDefaultUI:!1,zoomControl:!0},re={"Tel-Aviv":{lat:32.07129,lng:34.78713},Berlin:{lat:52.520008,lng:13.404954},London:{lat:51.50088279063649,lng:-.12446446928391436},Paris:{lat:48.856613,lng:2.352222},Amsterdam:{lat:52.370216,lng:4.895168}};var ne=function(e){var t,a,c=e.city,o=re[c];o||(o={lat:33.109333,lng:33.855499});var s=Object($.d)({googleMapsApiKey:"AIzaSyCqp3XhCNtt2GaQgDAhRvrjfO-A8zVQPWc",libraries:ee}),l=s.isLoaded,d=s.loadError,u=Object(n.useState)([]),p=Object(b.a)(u,2),j=(p[0],p[1],i.a.useState(null)),m=Object(b.a)(j,2),h=m[0],O=m[1],x=i.a.useRef(),g=i.a.useCallback((function(e){x.current=e}),[]);return i.a.useCallback((function(e){var t=e.lat,a=e.lng;x.current.panTo({lat:t,lng:a}),x.current.setZoom(14)}),[]),d?"Error":l?Object(r.jsx)("div",{children:Object(r.jsxs)($.a,{mapContainerStyle:te,zoom:12,center:o,options:ae,onLoad:g,children:[e.stops.map((function(e,t){var a,n;return Object(r.jsx)($.c,{position:{lat:null===(a=e.location_coords[0])||void 0===a?void 0:a.lat,lng:null===(n=e.location_coords[0])||void 0===n?void 0:n.lng},onClick:function(){O(e)}},e.stop_name)})),h?Object(r.jsx)($.b,{position:{lat:null===(t=h.location_coords[0])||void 0===t?void 0:t.lat,lng:null===(a=h.location_coords[0])||void 0===a?void 0:a.lng},onCloseClick:function(){O(null)},children:Object(r.jsx)("div",{children:Object(r.jsx)("h6",{children:h.stop_name})})}):null]})}):"Loading..."};var ie=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)([]),s=Object(b.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(""),p=Object(b.a)(u,2),j=p[0],m=p[1],h=Object(O.g)().city,x=e.tripId;Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/trips/".concat(x)).then((function(e){return e.json()})).then((function(e){c(e),g(e.tour_guide_id),m(x)}))}),[x]),Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/stops/?city=".concat(e.city)).then((function(e){return e.json()})).then((function(e){d(e)}))}),[h]);var g=function(e){fetch("https://city-route.herokuapp.com/api/users/".concat(e)).then((function(e){return e.json()})).then((function(e){}))},f=l.filter((function(e){var t;return null===i||void 0===i||null===(t=i.stops)||void 0===t?void 0:t.includes(e.id)}));return Object(r.jsx)("div",{children:Object(r.jsx)(ne,{trip:j,city:e.city,stops:f})})},ce=a(113),oe=a.n(ce),se=a(209),le=a(226),de=a(232),ue=a(210),pe=a(214),je=a(213),be=a(211),me=a(212),he=a.p+"static/media/Paris6.38f5fe6d.jpg",Oe=a.p+"static/media/Paris1.75137573.jpg",xe=a.p+"static/media/Paris2.c6639b02.jpg",ge=a.p+"static/media/Paris4.2a05f9bc.jpg",fe=a.p+"static/media/Paris5.7b09bd17.jpg",ve=a.p+"static/media/Paris3.7adaa03a.jpg",ye="data:image/jpeg;base64,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",Ae=a.p+"static/media/Berlin2.215aaede.jpg",Te=a.p+"static/media/Berlin3.ad9ce88e.jpg",Se=a.p+"static/media/Berlin4.dfa2dcb9.jpg",Ce=a.p+"static/media/Berlin5.89e022fb.jpg",ke=a.p+"static/media/Berlin6.53ea748b.jpg",Ne=a.p+"static/media/London.68c4812f.jpg",Ee=a.p+"static/media/London1.477c827a.jpg",Be=a.p+"static/media/London2.99c20072.jpg",Ie=a.p+"static/media/London3.168d1118.jpg",we=a.p+"static/media/London4.8307f1d2.jpg",Ge=a.p+"static/media/London5.393f65ab.jpg",Ue=a.p+"static/media/Amsterdam.88d7abee.jpg",Ve=a.p+"static/media/amsterdam1.87355ed1.jpg",De=a.p+"static/media/amsterdam2.8ce4edae.jpg",Le=a.p+"static/media/amsterdam3.9e8bc108.jpg",Me=a.p+"static/media/amsterdam5.9b4b9814.jpg",Pe=a.p+"static/media/telaviv1.5e73b0dd.jpg",Fe=a.p+"static/media/telaviv2.b722a456.jpg",qe=a.p+"static/media/telaviv3.ee558054.jpg",Qe=a.p+"static/media/telaviv4.3643d305.jpg",ze=a.p+"static/media/telaviv5.57b8e334.jpg",We=a.p+"static/media/Tel-Aviv.5e73b0dd.jpg",Ye=a(228),Je=a(217),Ke=a(216),Re=a(218),Xe=a(215),He=Object(x.a)((function(e){return{root:{margin:15,width:"400px"},trips:{display:"flex",flexWrap:"wrap",justifyContent:"center"},dialog:{width:"900px"},media:{height:200},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modals:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},control:{padding:e.spacing(2)},card:{marginTop:15},modal:{alignItems:"center",justifyContent:"center"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Ze=i.a.forwardRef((function(e,t){return Object(r.jsx)(se.a,Object(j.a)({direction:"up",ref:t},e))}));var _e=function(e){var t,a,i,c,o,s=He(),l=Object(O.f)(),d=Object(n.useState)(!1),u=Object(b.a)(d,2),p=u[0],j=u[1],m=function(){j(!1)},h=Object(n.useState)(!1),x=Object(b.a)(h,2),g=x[0],f=x[1],v=function(){f(!1)},y=Object(n.useState)(!1),C=Object(b.a)(y,2),k=C[0],N=C[1],E=function(){N(!0)},I=function(){N(!1)},w=Object(n.useState)(!1),G=Object(b.a)(w,2),U=G[0],V=G[1],D=function(){V(!1)},L=Object(n.useState)([]),M=Object(b.a)(L,2),P=M[0],F=M[1];Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/users/".concat(e.trip.tour_guide_id)).then((function(e){return e.json()})).then((function(e){F(e)}))}),[e.trip]);var q={Paris:[{src:Oe},{src:xe},{src:ve},{src:ge},{src:fe},{src:he}],Berlin:[{src:ye},{src:Ae},{src:Te},{src:Se},{src:Ce},{src:ke}],London:[{src:Ee},{src:Ne},{src:Ie},{src:Be},{src:we},{src:Ge}],TelAviv:[{src:Fe},{src:ze},{src:qe},{src:Qe},{src:Pe},{src:We}],Amsterdam:[{src:Ue},{src:Ve},{src:De},{src:Le},{src:H},{src:Me}]},Q=Math.floor(6*Math.random()),z="";"Paris"===(null===(t=e.trip)||void 0===t?void 0:t.trip_name_city)?z=q.Paris[Q].src:"Berlin"===(null===(a=e.trip)||void 0===a?void 0:a.trip_name_city)?z=q.Berlin[Q].src:"London"===(null===(i=e.trip)||void 0===i?void 0:i.trip_name_city)?z=q.London[Q].src:"Tel-Aviv"===(null===(c=e.trip)||void 0===c?void 0:c.trip_name_city)?z=q.TelAviv[Q].src:"Amsterdam"===(null===(o=e.trip)||void 0===o?void 0:o.trip_name_city)&&(z=q.Amsterdam[Q].src);var W=Object(n.useState)([]),Y=Object(b.a)(W,2),R=Y[0],X=Y[1],Z=Object(n.useState)({}),_=Object(b.a)(Z,2),$=_[0],ee=_[1],te=Object(n.useState)(""),ae=Object(b.a)(te,2),re=(ae[0],ae[1]);Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/trips/".concat(e.trip.id)).then((function(e){return e.json()})).then((function(t){X(t),ne(t.tour_guide_id);t.tickets_bought;re(e.trip.id)}))}),[e.trip.id]);var ne=function(e){fetch("https://city-route.herokuapp.com/api/users/".concat(e)).then((function(e){return e.json()})).then((function(e){F(e)}))},ce=function(){!function(t){fetch("https://city-route.herokuapp.com/api/trips/".concat(e.trip.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({ticketsBought:t})}).then((function(e){return e.json()})).then((function(e){re(e)}))}(parseInt(R.ticketsBought)+parseInt($)),e.serverUpdateUserTrips(e.trip.id)},se=function(e){e.preventDefault(),ee(e.target.value)};return Object(r.jsx)("div",{className:s.trips,children:Object(r.jsxs)(ue.a,{className:s.root,children:[Object(r.jsxs)(be.a,{children:[Object(r.jsx)(me.a,{className:s.media,image:z,title:"City Gallery"}),Object(r.jsxs)(je.a,{children:[Object(r.jsx)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.trip.tour_date}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Trip Name: ",e.trip.trip_name_city]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Trip Tour Guide: ",null===P||void 0===P?void 0:P.full_name]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Trip Start Time: ",e.trip.start_time]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Trip Duration: ",e.trip.tour_time]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Tickets Bought: ",e.trip.ticketsBought]})]})]}),Object(r.jsxs)(pe.a,{children:[Object(r.jsx)(J.a,{size:"small",color:"primary",onClick:function(){j(!0)},children:"View Map"}),Object(r.jsxs)(Ye.a,{open:p,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(Xe.a,{id:"alert-dialog-title",children:"Map of Tour"}),Object(r.jsx)(Ke.a,{children:Object(r.jsx)(ie,{serverUpdateUserTrips:e.serverUpdateUserTrips,user:e.user,lowPriceTrips:e.low,tripId:e.trip.id,city:e.trip.trip_name_city})}),Object(r.jsx)(Je.a,{children:Object(r.jsx)(J.a,{onClick:m,color:"primary",autoFocus:!0,children:"Close"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(J.a,{size:"small",color:"primary",onClick:function(){f(!0)},children:"Join Trip"}),Object(r.jsxs)(Ye.a,{fullScreen:!0,open:g,onClose:v,TransitionComponent:Ze,children:[Object(r.jsx)(A.a,{className:s.appBar,children:Object(r.jsxs)(T.a,{children:[Object(r.jsx)(S.a,{edge:"start",color:"inherit",onClick:v,"aria-label":"close",children:Object(r.jsx)(oe.a,{})}),Object(r.jsx)(K.a,{variant:"h6",className:s.title,children:"Here are discounted trips to view before you buy a full priced ticket. If not, you can exit."}),Object(r.jsx)(J.a,{autoFocus:!0,color:"inherit",onClick:function(){V(!0)},children:"Exit and Join Selected Trip"}),Object(r.jsxs)(Ye.a,{open:U,onClose:D,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(Xe.a,{id:"alert-dialog-title",children:"How many tickets would you like to buy?"}),Object(r.jsx)(Ke.a,{children:Object(r.jsxs)(Re.a,{id:"alert-dialog-description",children:[Object(r.jsx)(de.a,{id:"tick",children:"Num of Tickets:"}),Object(r.jsxs)(le.a,{labelId:"tick",id:"demo-simple-select-filled",value:$,onChange:se,children:[Object(r.jsx)(B.a,{value:"",children:Object(r.jsx)("em",{children:"None"})}),Object(r.jsx)(B.a,{value:"1",children:"1"}),Object(r.jsx)(B.a,{value:"2",children:"2"}),Object(r.jsx)(B.a,{value:"3",children:"3"}),Object(r.jsx)(B.a,{value:"4",children:"4"}),Object(r.jsx)(B.a,{value:"5",children:"5"})]})]})}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(J.a,{onClick:I,color:"primary",children:"Exit"}),Object(r.jsx)(J.a,{onClick:function(){D(),ce(),l.push("/myTripsPage")},color:"primary",autoFocus:!0,children:"Join"})]})]})]})}),Object(r.jsx)("div",{className:s.trips,children:e.low.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)(ue.a,{className:s.root,children:[Object(r.jsxs)(je.a,{children:[Object(r.jsx)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.trip_name_city}),Object(r.jsx)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.tour_date}),Object(r.jsx)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.start_time})]}),Object(r.jsx)(J.a,{onClick:E,children:"Join This Trip"}),Object(r.jsxs)(Ye.a,{open:k,onClose:I,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(Xe.a,{id:"alert-dialog-title",children:"How many tickets would you like to buy?"}),Object(r.jsx)(Ke.a,{children:Object(r.jsxs)(Re.a,{id:"alert-dialog-description",children:[Object(r.jsx)(de.a,{id:"tick",children:"Num of Tickets:"}),Object(r.jsxs)(le.a,{labelId:"tick",id:"demo-simple-select-filled",value:$,onChange:se,children:[Object(r.jsx)(B.a,{value:"",children:Object(r.jsx)("em",{children:"None"})}),Object(r.jsx)(B.a,{value:"1",children:"1"}),Object(r.jsx)(B.a,{value:"2",children:"2"}),Object(r.jsx)(B.a,{value:"3",children:"3"}),Object(r.jsx)(B.a,{value:"4",children:"4"}),Object(r.jsx)(B.a,{value:"5",children:"5"})]})]})}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(J.a,{onClick:I,color:"primary",children:"Exit"}),Object(r.jsx)(J.a,{onClick:function(){I(),ce(),l.push("/myTripsPage")},color:"primary",autoFocus:!0,children:"Join"})]})]})]})},e.id)}))})]})]})]})]})})};function $e(e){if(!e)return new Date;var t=e.split("/"),a=Object(b.a)(t,3),r=a[0],n=a[1],i=a[2];return new Date(i,n-1,r)}var et=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)([]),s=Object(b.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)([]),p=Object(b.a)(u,2),j=(p[0],p[1]),m=Object(n.useState)(!1),h=Object(b.a)(m,2),O=(h[0],h[1]);return Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/trips").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(t){var a=$e(t.tour_date),r=$e(e.searchTripForm.start),n=$e(e.searchTripForm.end),i=a.getTime()<=n.getTime()&&a.getTime()>=r.getTime(),c=!e.searchTripForm.city||t.trip_name_city===e.searchTripForm.city;return i&&c})),r=a.filter((function(e){return e.ticketsBought>=10}));d(r),c(a),e.setLowPriceTrips(r)}))}),[]),Object(r.jsxs)("div",{className:"results",children:[Object(r.jsxs)(K.a,{variant:"h3",children:["Welcome to ",e.searchTripForm.city,"!"]}),Object(r.jsx)("section",{id:"left",children:i.length>0?Object(r.jsx)("div",{className:"list-results",children:i.map((function(t,a){return Object(r.jsx)(_e,{setShowStops:O,serverUpdateUserTrips:e.serverUpdateUserTrips,low:l,trip:t,setStops:j},a)}))}):Object(r.jsx)("div",{children:Object(r.jsx)("h3",{children:"No trips found!"})})})]})},tt=Object(x.a)({root:{minWidth:"200px",margin:"15px"},media:{height:200}});var at=function(e){var t,a=Object(n.useState)(""),i=Object(b.a)(a,2),c=i[0],o=i[1],s=tt();Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/trips/".concat(e.data)).then((function(e){return e.json()})).then((function(e){o(e)}))}),[]);var l=null===(t={"Tel-Aviv":{src:We},Berlin:{src:ye},Amsterdam:{src:Ue},Paris:{src:he},London:{src:Ne}}[null===c||void 0===c?void 0:c.trip_name_city])||void 0===t?void 0:t.src;return Object(r.jsx)(z.a,{item:!0,xs:12,md:4,sm:6,children:Object(r.jsxs)(ue.a,{className:s.root,children:[Object(r.jsxs)(be.a,{children:[Object(r.jsx)(me.a,{className:s.media,image:l,title:"City Gallery"}),Object(r.jsxs)(je.a,{children:[Object(r.jsx)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:null===c||void 0===c?void 0:c.trip_name_city}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Date: ",null===c||void 0===c?void 0:c.tour_date]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Start Time: ",null===c||void 0===c?void 0:c.start_time]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Trip Duration: ",null===c||void 0===c?void 0:c.tour_time]})]})]}),Object(r.jsx)(pe.a,{})]})})},rt=Object(x.a)({gridContainer:{paddingLeft:"15px",paddingRight:"15px",marginTop:"100px"}});var nt=function(e){var t,a=rt();return Object(r.jsx)(z.a,{container:!0,justify:"center",className:a.gridContainer,children:null===(t=e.user.my_trips)||void 0===t?void 0:t.map((function(e,t){return Object(r.jsx)(at,{data:e},t)}))})},it=a(221),ct=a(219),ot=a(224),st=a(116);var lt=Object(N.a)((function(e){return{root:{display:"flex"},paper:Object(p.a)({padding:e.spacing(4,3)},e.breakpoints.up("md"),{padding:e.spacing(8,6)})}}))((function(e){var t=e.children,a=e.classes;return Object(r.jsx)("div",{className:a.root,children:Object(r.jsx)(ct.a,{maxWidth:"sm",children:Object(r.jsx)(ot.a,{mt:7,mb:12,children:Object(r.jsx)(st.a,{className:a.paper,children:t})})})})})),dt=a(220),ut=a(78),pt=a.n(ut),jt=a(77),bt=Object(x.a)((function(e){return{root:Object(p.a)({minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},e.breakpoints.down("md"),{flexDirection:"column"}),homepage:{minHeight:"100vh",backgroundImage:"url(".concat("/assets/bg10.jpg",")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},form:{marginTop:e.spacing(6),padding:20,alignContent:"center"},button:{marginTop:e.spacing(3),marginBottom:e.spacing(2)},feedback:{marginTop:e.spacing(2)},details:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Nunito"},appbar:{background:"none"},appbarWrapper:{width:"80%",margin:"0 auto"},appbarTitle:{flexGrow:"1"},icon:{color:"#fff",fontSize:"2rem"},colorText:{color:"000"},container:{textAlign:"center"},title:{color:"#000",fontSize:"4.5rem"},goDown:{color:"#000",fontSize:"4rem"}}}));var mt=function(e){var t=bt(),a=Object(n.useState)(!1),c=Object(b.a)(a,2),o=c[0],s=c[1];Object(n.useEffect)((function(){s(!0)}),[]);var l={full_name:"",email:"",type_of_user:"",phone:""},d=Object(n.useState)(l),u=Object(b.a)(d,2),m=u[0],h=u[1],O=function(t){t.preventDefault(),m.full_name&&m.email&&m.type_of_user&&m.phone&&(e.addUser(m),h(l))},x=function(e){var t=e.target,a=t.name,r=t.value;"type_of_user"===a?(y(e.target.value),h(Object(j.a)(Object(j.a)({},m),{},Object(p.a)({},a,r)))):h(Object(j.a)(Object(j.a)({},m),{},Object(p.a)({},a,r)))},g=Object(n.useState)(""),f=Object(b.a)(g,2),v=f[0],y=f[1];return Object(r.jsxs)("div",{className:t.homepage,children:[Object(r.jsx)("div",{className:t.details,id:"header",children:Object(r.jsx)(dt.a,Object(j.a)(Object(j.a)({in:o},o?{timeout:2e3}:{}),{},{collapsedHeight:50,children:Object(r.jsxs)("div",{className:t.container,children:[Object(r.jsxs)("h1",{className:t.title,children:["Welcome to ",Object(r.jsx)("br",{}),"City",Object(r.jsx)("span",{className:t.colorText,children:"Route."})]}),Object(r.jsx)(jt.Link,{to:"signup",smooth:!0,children:Object(r.jsx)(S.a,{children:Object(r.jsx)(pt.a,{className:t.goDown})})})]})}))}),Object(r.jsx)("div",{className:t.root,id:"signup",children:Object(r.jsx)(lt,{children:Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(K.a,{variant:"h3",gutterBottom:!0,marked:"center",align:"center",children:"Sign Up"}),Object(r.jsxs)(K.a,{variant:"body2",align:"center",children:[Object(r.jsx)(it.a,{href:"#",onClick:e.signIn,underline:"always",children:"Already have an account?"}),Object(r.jsx)("h4",{className:"error",children:e.serverError})]}),Object(r.jsx)(W.a,{onSubmit:O,className:t.form,children:Object(r.jsxs)(z.a,{container:!0,spacing:2,children:[Object(r.jsx)(Y.a,{fullWidth:!0,label:"Full Name",name:"full_name",defaultValue:m.name,required:!0,onChange:x}),Object(r.jsx)(Y.a,{fullWidth:!0,label:"Email",name:"email",defaultValue:m.email,type:"email",required:!0,onChange:x}),Object(r.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(r.jsx)(Y.a,{id:"select",label:"Type of user",value:v,name:"type_of_user",required:!0,fullWidth:!0,select:!0,onChange:x,children:[{value:"Traveler",label:"Traveler"},{value:"Tour Guide",label:"Tour Guide"}].map((function(e){return Object(r.jsx)(B.a,{value:e.value,children:e.label},e.value)}))})}),Object(r.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(r.jsx)(Y.a,{fullWidth:!0,label:"Phone number",name:"phone",type:"tel",required:!0,onChange:x})}),Object(r.jsx)(J.a,{fullWidth:!0,type:"reset",onClick:O,className:t.button,variant:"contained",children:"Sign Up"})]})})]})})})]})},ht=a(222),Ot=a(223),xt=a(227),gt=["places"],ft={width:"850px",height:"700px"},vt={disableDefaultUI:!1,zoomControl:!0},yt={"Tel-Aviv":{lat:32.109333,lng:34.855499},Berlin:{lat:52.520008,lng:13.404954},London:{lat:51.50088279063649,lng:-.12446446928391436},Paris:{lat:48.856613,lng:2.352222},Amsterdam:{lat:52.370216,lng:4.895168}};var At=function(e){var t=e.stops,a=void 0===t?[]:t,n=e.selectedStops,c=void 0===n?[]:n,o=e.trip.trip_name_city,l=yt[o];l||(l={lat:52.370216,lng:4.895168});var d=c.map((function(e){var t=a.find((function(t){return t.id===e}));return{lat:null===t||void 0===t?void 0:t.location_coords[0].lat,lng:null===t||void 0===t?void 0:t.location_coords[0].lng}})),u=Object($.d)({googleMapsApiKey:"AIzaSyCqp3XhCNtt2GaQgDAhRvrjfO-A8zVQPWc",libraries:gt}),p=u.isLoaded,j=u.loadError,m=i.a.useState([]),h=Object(b.a)(m,2),O=(h[0],h[1]),x=i.a.useState(null),g=Object(b.a)(x,2),f=g[0],v=g[1],y=i.a.useCallback((function(e){O((function(t){return[].concat(Object(s.a)(t),[{lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date}])}))}),[]),A=i.a.useRef(),T=i.a.useCallback((function(e){A.current=e}),[]);return i.a.useCallback((function(e){var t=e.lat,a=e.lng;A.current.panTo({lat:t,lng:a}),A.current.setZoom(14)}),[]),j?"Error":p?Object(r.jsx)("div",{className:"nap-TG",children:Object(r.jsxs)($.a,{mapContainerStyle:ft,zoom:11,center:l,options:vt,onClick:y,onLoad:T,children:[d.map((function(e,t){return Object(r.jsx)($.c,{position:{lat:e.lat,lng:e.lng}},t)})),f?Object(r.jsx)($.b,{position:{lat:f.lat,lng:f.lng},onCloseClick:function(){v(null)},children:Object(r.jsx)("div",{children:Object(r.jsx)("h5",{children:"Ticket needed?"})})}):null]})}):"Loading..."},Tt=Object(x.a)((function(e){return{root:{height:"100vh",backgroundColor:"white"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none",height:"150%"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},label:{marginBottom:-7,marginTop:14,fontSize:19},gridForm:{boxShadow:"none",height:"60%"},goDown:{justifyContent:"center",alignItems:"center"}}}));var St=function(e){var t,a=Tt(),i=Object(n.useState)(""),c=Object(b.a)(i,2),o=(c[0],c[1]),l={trip_name_city:"",tour_date:"",tour_guide_id:null===(t=e.user)||void 0===t?void 0:t.id,tour_time:"",start_time:"",ticketsBought:0},m=Object(n.useRef)(null),h=Object(n.useState)(e.editTrip||l),O=Object(b.a)(h,2),x=O[0],g=O[1],f=Object(n.useState)([]),v=Object(b.a)(f,2),y=v[0],A=v[1],T=Object(n.useState)([]),C=Object(b.a)(T,2),k=C[0],N=C[1];Object(n.useEffect)((function(){e.editTrip&&(g(e.editTrip),N(e.editTrip.stops))}),[e.editTrip]),Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(d.a.mark((function t(){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x.trip_name_city){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://city-route.herokuapp.com/api/stops/?city=".concat(x.trip_name_city));case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,A(r),e.editTrip?N(e.editTrip.stops):N([]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[x.trip_name_city]);var E=function(e){"trip_name_city"===e.target.name&&o(e.target.value);var t=e.target,a=t.name,r=t.value;g(Object(j.a)(Object(j.a)({},x),{},Object(p.a)({},a,r)))},B=function(t){t.preventDefault(),x.stops=k,I?e.updateTrip(x,x.id):e.addTrip(x),m.current.reset(),N([]),g(l),A([])},I=e.editTrip,w=null===I||void 0===I?void 0:I.tour_time,G=null===I||void 0===I?void 0:I.tour_date,U=null===I||void 0===I?void 0:I.start_time;return Object(r.jsxs)(z.a,{container:!0,component:"main",className:a.root,children:[Object(r.jsx)(ht.a,{}),Object(r.jsx)(z.a,{item:!0,className:a.gridForm,xs:12,sm:8,md:5,component:st.a,elevation:6,square:!0,children:Object(r.jsxs)("div",{className:a.paper,children:[Object(r.jsx)(K.a,{component:"h1",variant:"h5",children:"Add New Trip"}),Object(r.jsxs)("form",{className:a.form,ref:m,onSubmit:B,children:[Object(r.jsxs)("label",{className:"labels",children:["City:",Object(r.jsxs)("select",{className:"inputs",value:x.trip_name_city,name:"trip_name_city",onChange:E,children:[Object(r.jsx)("option",{value:"",children:"Choose"}),Object(r.jsx)("option",{selected:!0,value:"Tel-Aviv",children:"Tel-Aviv"}),Object(r.jsx)("option",{value:"Berlin",children:"Berlin"}),Object(r.jsx)("option",{value:"London",children:"London"}),Object(r.jsx)("option",{value:"Amsterdam",children:"Amsterdam"}),Object(r.jsx)("option",{value:"Paris",children:"Paris"})]}),Object(r.jsx)("br",{})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{className:"labels",children:["Tour-Date",Object(r.jsx)("input",{className:"inputs",defaultValue:G,type:"text",placeholder:"01/06/2021",name:"tour_date",onChange:E}),Object(r.jsx)("br",{})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{className:"labels",children:["Tour-Time",Object(r.jsx)("br",{}),Object(r.jsx)("input",{placeholder:"1-2 ",className:"inputs",defaultValue:w,type:"text",name:"tour_time",onChange:E}),Object(r.jsx)("br",{})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{className:"labels",children:["Start-Time",Object(r.jsx)("br",{}),Object(r.jsx)("input",{placeholder:"10:00AM",className:"inputs",type:"text",defaultValue:U,name:"start_time",onChange:E}),Object(r.jsx)("br",{})]}),Object(r.jsx)("label",{className:a.label,children:y.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(Ot.a,{control:Object(r.jsx)(xt.a,{checked:k.includes(e.id),value:e.stop_name,color:"primary",onChange:function(){return function(e){var t=k.find((function(t){return t===e}));N(t?k.filter((function(t){return t!==e})):[].concat(Object(s.a)(k),[e]))}(e.id)}}),label:e.stop_name})},e.id)}))}),Object(r.jsx)(J.a,{onClick:B,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:e.editTrip?"Save":"Add"}),Object(r.jsx)(jt.Link,{to:"trip-list",smooth:!0,children:Object(r.jsx)(S.a,{children:Object(r.jsx)(pt.a,{className:a.goDown})})})]})]})}),Object(r.jsx)(z.a,{className:a.gridMap,item:!0,xs:!1,sm:4,md:7,children:Object(r.jsx)(At,{stops:y,trip:x,selectedStops:k})})]})},Ct=Object(x.a)((function(e){return{media:{height:200},tripList:{width:"28%",display:"inline-block",marginLeft:"3%"},root:{marginTop:"300px"}}}));var kt=function(e){var t=Ct(),a=Object(n.useState)(e.data),i=Object(b.a)(a,2),c=i[0],o=i[1];Object(n.useEffect)((function(){fetch("https://city-route.herokuapp.com/api/trips/".concat(e.data)).then((function(e){return e.json()})).then((function(e){e&&o(e)}))}),[e.data]);var s={Paris:[{src:Oe},{src:xe},{src:ve},{src:ge},{src:fe},{src:he}],Berlin:[{src:ye},{src:Ae},{src:Te},{src:Se},{src:Ce},{src:ke}],London:[{src:Ee},{src:Ne},{src:Ie},{src:Be},{src:we},{src:Ge}],TelAviv:[{src:Fe},{src:ze},{src:qe},{src:Qe},{src:Pe},{src:We}],Amsterdam:[{src:Ue},{src:Ve},{src:De},{src:Le},{src:H},{src:Me}]},l=Math.floor(6*Math.random()),d="";return"Paris"===(null===c||void 0===c?void 0:c.trip_name_city)?d=s.Paris[l].src:"Berlin"===(null===c||void 0===c?void 0:c.trip_name_city)?d=s.Berlin[l].src:"London"===(null===c||void 0===c?void 0:c.trip_name_city)?d=s.London[l].src:"Tel-Aviv"===(null===c||void 0===c?void 0:c.trip_name_city)?d=s.TelAviv[l].src:"Amsterdam"===(null===c||void 0===c?void 0:c.trip_name_city)&&(d=s.Amsterdam[l].src),Object(r.jsx)("div",{className:t.tripList,children:Object(r.jsxs)(ue.a,{className:t.root,children:[Object(r.jsxs)(be.a,{children:[Object(r.jsx)(me.a,{className:t.media,image:d,title:"City"}),Object(r.jsxs)(je.a,{children:[Object(r.jsxs)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["Trip Name: ",null===c||void 0===c?void 0:c.trip_name_city]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Tour Date: ",null===c||void 0===c?void 0:c.tour_date]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Start Time: ",null===c||void 0===c?void 0:c.start_time]}),Object(r.jsxs)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:["Tour Duration: ",null===c||void 0===c?void 0:c.tour_time]})]})]}),Object(r.jsxs)(pe.a,{children:[Object(r.jsx)(J.a,{onClick:function(){return e.onDuplicate(c)},size:"small",color:"primary",children:"Duplicate Trip"}),Object(r.jsx)(J.a,{onClick:function(){return e.setEditTrip(c)},size:"small",color:"primary",children:"Edit Trip"}),Object(r.jsx)(J.a,{onClick:function(){e.deleteTrip(e.data)},size:"small",color:"primary",children:"Delete Trip"})]})]})})};var Nt=function(e){return Object(r.jsx)("div",{children:e.tourGuideTrips.map((function(t,a){return Object(r.jsx)(kt,{editTrip:e.editTrip,data:t,setEditTrip:e.setEditTrip,listChanged:e.listChanged,deleteTrip:e.deleteTrip,onDuplicate:e.onDuplicate},a)}))})},Et=a(225),Bt=Object(x.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var It=function(e){var t,a=Object(n.useState)(!1),i=Object(b.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(!1),d=Object(b.a)(l,2),u=d[0],m=d[1],h=Object(n.useState)({}),O=Object(b.a)(h,2),x=O[0],g=O[1],f=Object(n.useState)({}),v=Object(b.a)(f,2),y=v[0],A=v[1],T=Object(n.useState)(null),S=Object(b.a)(T,2),C=S[0],k=S[1],N=Bt(),E=function(t){fetch("https://city-route.herokuapp.com/api/trips/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){B(+t.id),e.updateUserTrips(+t.id)})).catch((function(e){return console.error(e)}))},B=function(t){var a=[];e.user.my_trips&&(a=Object(s.a)(e.user.my_trips)),a.push(t),fetch("https://city-route.herokuapp.com/api/users/".concat(e.user.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({my_trips:a})}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){return console.error(e)}))};function I(e){var t=e.target,a=t.name,r=t.value;g(Object(j.a)(Object(j.a)({},x),{},Object(p.a)({},a,r)))}return Object(r.jsxs)("div",{children:[Object(r.jsx)(St,{editTrip:C,user:e.user,addTrip:E,isEditing:e.isEditing,updateTrip:function(e,t){fetch("https://city-route.herokuapp.com/api/trips/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){k(null)})).catch((function(e){return console.error(e)}))}}),Object(r.jsx)("div",{id:"trip-list",children:Object(r.jsx)(Nt,{id:"trip-list",tourGuideTrips:(null===(t=e.user)||void 0===t?void 0:t.my_trips)||[],user:e.user,editTrip:C,setEditTrip:k,userTrips:e.userTrips,deleteTrip:e.deleteTrip,setListChanged:o,listChanged:c,onDuplicate:function(e){A(e),m(!0)}})}),Object(r.jsx)(Et.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:N.modal,open:u,onClose:function(){return m(!1)},closeAfterTransition:!0,BackdropProps:{timeout:500},children:Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:N.paper,children:[Object(r.jsx)("h2",{children:"Duplicate a Trip"}),Object(r.jsx)("label",{htmlFor:"",children:"Date:"}),Object(r.jsx)("input",{name:"tour_date",type:"text",onChange:I}),Object(r.jsx)("label",{htmlFor:"",children:"Start Time:"}),Object(r.jsx)("input",{type:"text",name:"start_time",onChange:I}),Object(r.jsx)("br",{}),Object(r.jsx)(J.a,{onClick:function(){E(Object(j.a)(Object(j.a)({},y),x)),m(!1)},variant:"contained",color:"primary",children:"Duplicate"})]})})})]})};var wt=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(null),o=Object(b.a)(c,2),l=o[0],m=o[1],x=Object(n.useState)({city:"",start:"",end:""}),g=Object(b.a)(x,2),f=g[0],v=g[1],y=Object(n.useState)([]),A=Object(b.a)(y,2),T=A[0],S=(A[1],Object(n.useState)([])),C=Object(b.a)(S,2),k=C[0],N=C[1],E=Object(n.useState)(!1),B=Object(b.a)(E,2),I=(B[0],B[1]),w=Object(O.f)(),G=function(e){I(e)},U=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://city-route.herokuapp.com/api/users/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(localStorage.setItem("userId",r.id),i(Object(j.a)(Object(j.a)({},t),{},{id:+r.id})),m(null),"Traveler"===t.type_of_user?w.push("/trips"):w.push("/tourGuideMenu")):m(r.message),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),V=Object(h.useGoogleLogin)({onSuccess:function(e){!function(e){var t=1e3*(e.tokenObj.expires_in||3300),a=function(){var r=Object(u.a)(d.a.mark((function r(){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.reloadAuthResponse();case 2:n=r.sent,t=1e3*(n.expires_in||3300),console.log("newAuthRes:",n),localStorage.setItem("authToken",n.id_token),setTimeout(a,t);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();setTimeout(a,t)}(e),G(!0),fetch("https://city-route.herokuapp.com/api/users/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.profileObj.email})}).then((function(e){return e.json()})).then((function(e){if(!e)return w.push("/signUp");i(e);var t=localStorage.getItem("userId");localStorage.setItem("userId",e.id),t||("Traveler"===e.type_of_user?w.push("/trips"):w.push("/tourGuideMenu"))}))},onFailure:function(e){alert("Failed to login, res:",e)},clientId:"233069535985-vfone0gmelp0cfv62424j18a94av35i3.apps.googleusercontent.com",isSignedIn:!0,accessType:"offline"}).signIn,D=function(e){var t=Object(s.a)(a.my_trips||[]);t.push(e),i(Object(j.a)(Object(j.a)({},a),{},{my_trips:t}))},L=function(e){var t=Object(s.a)(a.my_trips||[]);t.push(e),fetch("https://city-route.herokuapp.com/api/users/".concat(null===a||void 0===a?void 0:a.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({my_trips:t})}).then((function(e){return e.json()})).then((function(t){D(e),w.push("/myTripsPage")})).catch((function(e){return console.error(e)}))};return Object(n.useEffect)((function(){var e=localStorage.getItem("userId");e&&fetch("https://city-route.herokuapp.com/api/users/".concat(e),{}).then((function(e){return e.json()})).then((function(e){i(e)}))}),[]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(Q,{setlog:G,setUser:i}),Object(r.jsxs)(O.c,{children:[Object(r.jsx)(O.a,{path:"/",exact:!0,children:Object(r.jsx)(mt,{serverError:l,addUser:U,signIn:V})}),Object(r.jsx)(O.a,{path:"/maps/:city",exact:!0,children:Object(r.jsx)(ie,{user:a,lowPriceTrips:k,serverUpdateUserTrips:L})}),Object(r.jsx)(O.a,{path:"/trips",exact:!0,children:Object(r.jsx)(_,{updateForm:function(e){var t=e.target,a=t.value,r=t.name;v(Object(j.a)(Object(j.a)({},f),{},Object(p.a)({},r,a)))}})}),Object(r.jsx)(O.a,{path:"/results",exact:!0,children:Object(r.jsx)(et,{searchTripForm:f,setLowPriceTrips:N,user:a,lowPriceTrips:k,serverUpdateUserTrips:L})}),Object(r.jsx)(O.a,{path:"/myTripsPage",exact:!0,children:Object(r.jsx)(nt,{user:a,userTrips:T})}),Object(r.jsx)(O.a,{path:"/tourGuideMenu",exact:!0,children:Object(r.jsx)(It,{user:a,addTrip:function(e){fetch("https://city-route.herokuapp.com/api/trips/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){D(e.id)})).catch((function(e){return console.error(e)}))},updateUserTrips:D,userTrips:T,deleteTrip:function(e){fetch("https://city-route.herokuapp.com/api/trips/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:Number(a.id)})}).then((function(e){return e.json()})).then((function(t){var r=Object(s.a)(a.my_trips||[]);r=r.filter((function(t){return t!==e})),i(Object(j.a)(Object(j.a)({},a),{},{my_trips:r}))}))}})})]})]})},Gt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,234)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))};o.a.render(Object(r.jsx)(m.a,{children:Object(r.jsx)(wt,{})}),document.getElementById("root")),Gt()}},[[156,1,2]]]);
//# sourceMappingURL=main.7e538dff.chunk.js.map